# Settlement Generation System
## Procedural World Population & Architecture Guidelines

**Version:** 1.0 SETTLEMENT ARCHITECTURE  
**Date:** December 17, 2025  
**Status:** ‚úÖ PRODUCTION-READY  
**System:** Pocket Fantasy RPG - Settlements & Infrastructure

---

## üèòÔ∏è SETTLEMENT TYPE HIERARCHY

### Settlement Classification & Population Standards

All settlements are classified by approximate population size with corresponding infrastructure, NPC counts, and encounter patterns. The LLM uses these as **guidelines, not rigid rules**, allowing for variation while maintaining consistency.

---

## SETTLEMENT TYPE 1: CAMP (Population: 3-15)

**Classification:** Temporary or small semi-permanent settlement

**Characteristics:**
- Tents, lean-tos, or basic wooden structures
- No permanent buildings
- Single-purpose communities (merchants, bandits, refugees, adventurers)
- No formal organization or governance
- Basic fire pit or communal area

**Typical Locations:**
- Roadside caravan stops
- Bandit hideouts
- Refugee encampments
- Temporary hunting/logging camps
- Remote trading posts

**Notable NPCs Present:** 1-2
- Examples: Camp leader/captain, notable merchant, interesting outlaw

**Facilities:**
- Possibly 1 small shelter or structure
- Communal fire or cooking area
- Maybe a simple stall or tent shop

**Atmosphere:**
- Temporary, makeshift, functional
- Everyone knows everyone
- No formal economy (bartering common)
- Dangers: Exposed to elements, easy targets for bandits, limited resources

**Encounter Standard:**
- When entering camp: All inhabitants are visible or nearby
- Small conflicts can affect entire community
- No hidden areas or secrets (too small)

---

## SETTLEMENT TYPE 2: HAMLET (Population: 20-75)

**Classification:** Very small permanent settlement, usually agricultural-based

**Characteristics:**
- Mix of permanent dwellings (6-12 buildings)
- Agricultural focus (farms surrounding, mill possible)
- Minimal infrastructure
- Dominated by 1-2 family groups or clans
- Informal leadership (eldest, most respected)

**Typical Locations:**
- River valleys
- Road junctions
- Fertile plains
- Remote mountain passes (if defensible)

**Notable NPCs Present:** 3-5
- Examples: Elder/leader, innkeeper, blacksmith or craftsperson, healer/priestess, merchant

**Buildings/Facilities:**
- 1 small inn, tavern, or meeting house
- 1 basic shop (goods/supplies) or trade craft building
- 3-8 residential homes
- Possibly 1 small shrine or chapel
- Possibly 1 craftsperson's workshop (blacksmith, carpenter, etc.)

**Infrastructure:**
- Well or stream for water
- Possibly a small fortification (wooden palisade)
- Market square or common area
- Basic roads or paths

**Economy:**
- Barter-based with coin supplement
- Self-sufficient (most goods produced locally)
- Trade limited to essentials
- Weekly or monthly market days possible

**Atmosphere:**
- Tight-knit, everyone knows everyone
- Suspicious of strangers
- Strong community bonds
- Limited opportunities
- Basic but orderly

**Encounter Standard:**
- NPCs present during day, some gathered in common areas
- Most residents recognize strangers
- Small tavern or inn acts as information hub
- Typical encounter: 2-5 notable NPCs during day, 5-10 if evening gathering

---

## SETTLEMENT TYPE 3: VILLAGE (Population: 100-500)

**Classification:** Small permanent settlement, mostly self-sufficient with regional trade

**Characteristics:**
- Diverse buildings (25-40 structures)
- Mixed economy (farming + crafting + some trade)
- Organized governance (elected leaders, town council, or appointed)
- Noticeable hierarchy (wealthy merchants, skilled craftspeople, laborers)
- Basic fortifications common (wooden walls, guard towers)

**Typical Locations:**
- Crossroads
- River trading points
- Fertile valleys
- Forest clearings (logging)
- Mountain passes (if strategic)

**Notable NPCs Present:** 5-10
- Recommended breakdown:
  - 1 Mayor/Elected leader
  - 1 Innkeeper/Tavernkeeper
  - 1 Head Merchant/Trader
  - 1 Blacksmith/Craftmaster
  - 1 Priest/Healer
  - 1-2 Shop owners (general store, specialist)
  - 1-2 Militia/Guard captain
  - 1-2 Optional: Scholar, Entertainer, Artisan

**Buildings/Facilities:**
- 1-2 Inns or taverns
- 2-3 shops (general goods, specialty trade)
- 1 blacksmith's workshop
- 1 small shrine or temple
- 3-4 crafts workshops (carpentry, weaving, etc.)
- 20-30 residential homes
- 1-2 grain mills or workshops
- Possibly 1 small library, school, or meeting hall

**Infrastructure:**
- Defended perimeter (wooden palisade or stone wall)
- Guard station or barracks (5-15 soldiers)
- Town well and water system
- Market square or bazaar area
- Main street with visible shops
- Surrounding farmland and pastures

**Economy:**
- Coin-based, some barter
- Regional market (weekly or bi-weekly)
- Craftspeople trade beyond village
- Some food surplus
- Basic services offered (repair, lodging)

**Social Structure:**
- Clear class divisions (noble/merchant, craftsperson, laborer)
- Known families and histories
- Local politics and tensions
- Professional guilds possible

**Atmosphere:**
- Organized and purposeful
- Strangers noticed but not unusual
- Commercial atmosphere
- Sense of permanence and stability
- Some opportunities for outsiders

**Encounter Standard:**
- Daytime: 15-25 visible NPCs in streets, shops, market
- Evening: 5-10 NPCs in public areas (tavern, inn)
- Strangers attract attention but not hostility
- Multiple encounter options simultaneously possible
- Town has distinct districts/areas

---

## SETTLEMENT TYPE 4: TOWN (Population: 500-5,000)

**Classification:** Significant regional hub, economically important, diverse population

**Characteristics:**
- Substantial buildings (60-150+ structures)
- Mixed economy (commerce, crafting, agriculture, services)
- Formal government (mayor, council, bureaucracy)
- Clear social classes (nobility, merchants, craftspeople, laborers, poor)
- Significant fortifications (stone walls, guard towers, garrison)
- Specialized services and businesses
- Visible wealth inequality

**Typical Locations:**
- Major road junctions
- River ports or trade routes
- Strategic defensive positions
- Regional capitals
- Prosperous valleys or plains

**Notable NPCs Present:** 10-20
- **Leadership:** Mayor, Council members, Guard captain
- **Commerce:** Several merchants, traders, shop owners, innkeepers
- **Services:** Blacksmith, healer, priest, scribe/clerk, entertainers
- **Craftspeople:** Multiple specialized craftspeople
- **Notable citizens:** Guild masters, wealthy citizens, scholars, unusual characters

**Buildings/Facilities:**
- 3-5 Inns and multiple taverns
- 8-15 shops (general, specialty, markets)
- 2-3 blacksmiths or forge masters
- 1-2 temples or shrines
- 10-20 crafts workshops
- 50-120 residential buildings
- 2-4 grain mills or industrial facilities
- 1 Guild hall
- 1 Market hall or bazaar
- 1 Guard barracks or garrison
- Possibly: Library, school, hospital, courthouse

**Infrastructure:**
- Stone walls with multiple gates
- Multiple streets and districts
- Guard stations (25-50+ soldiers)
- Multiple wells and water systems
- Market squares and bazaars
- Bridges, roads, or docks
- Street lighting (torches, lanterns)
- Organized refuse management

**Economy:**
- Coin-based commerce
- Multiple daily markets
- Regional and inter-regional trade
- Specialized crafts and services
- Banking or credit services
- Significant wealth visible

**Social Structure:**
- Distinct classes with visible hierarchy
- Professional guilds with real power
- Family lineages and histories matter
- Political factions and rivalries
- Networks and patronage systems

**Atmosphere:**
- Bustling, commercial, energetic
- Mix of rich and poor
- Strangers common but monitored
- Opportunities abundant
- Dangers present (theft, violence, disease)
- Sense of importance and purpose

**Encounter Standard:**
- Daytime: 50-100+ visible NPCs
- Multiple districts allow separate encounters
- Shops and services always available
- Quest givers and information brokers present
- Nightlife and underworld elements
- Multiple 10-20 NPC encounter options simultaneously

---

## SETTLEMENT TYPE 5: CITY (Population: 5,000+)

**Classification:** Major metropolitan center, regional or national importance, cosmopolitan

**Characteristics:**
- Extensive buildings (300+ structures), multiple districts
- Diverse economy (major trade, banking, crafting, services, administration)
- Formal complex government (nobles, councils, bureaucracy)
- Significant social stratification (wealthy elite, middle class, working poor, underclass)
- Extensive fortifications (stone walls, towers, garrison)
- Specialized districts (merchant, crafting, noble, poor, etc.)
- Significant infrastructure and services
- Notable landmarks and monuments

**Typical Locations:**
- Major river or sea ports
- National capitals
- Historic crossroads
- Regional powerhouses
- Cultural or religious centers

**Notable NPCs Present:** 20-40+
- **Leadership:** Lord/Mayor, Multiple council members, Guard commander
- **Commerce:** Multiple major merchants, guild masters, traders, financiers
- **Services:** Multiple of each (healers, priests, etc.)
- **Notable citizens:** Nobles, scholars, famous craftspeople, underworld leaders, nobility
- **Diverse:** Specialists of all kinds, unusual visitors, legendary residents

**Buildings/Facilities:**
- 8-12 inns, multiple taverns, entertainment venues
- 20-30+ shops and markets
- Multiple blacksmiths and specialized forges
- 3-5 temples or shrines
- 30-50+ crafts workshops
- 200-400+ residential buildings
- 4-8 grain mills and industrial facilities
- 2-3 Guild halls
- 2-3 Market halls and bazaars
- Multiple guard posts and garrison
- Library, university, hospital, courts
- Guild workshops and headquarters
- Banking house(s)
- Theaters, entertainment venues
- Monuments and cultural sites

**Infrastructure:**
- Extensive stone walls with multiple gates
- Multiple streets, alleys, and districts
- Large garrison (50-200+ soldiers)
- Multiple wells, fountains, water systems
- Organized markets and bazaars
- Bridges, roads, docks
- Street lighting throughout
- Sewage and refuse systems
- Official buildings and administrative centers

**Economy:**
- Sophisticated coin and credit system
- Multiple simultaneous markets
- International trade
- Banking and financial services
- Diverse skilled services
- Significant wealth visible, poverty evident

**Social Structure:**
- Rigid class system visible
- Powerful guilds with autonomy
- Noble families with influence
- Merchant classes
- Professional organizations
- Criminal underworld
- Complex political systems

**Atmosphere:**
- Vibrant, complex, overwhelming
- Opportunities and dangers abundant
- Strangers common and unremarkable
- Mix of wealth and poverty
- Multiple cultures and peoples
- Centers of knowledge and power
- Scale can feel impersonal

**Encounter Standard:**
- Daytime: 200-500+ visible NPCs
- 5-8 distinct districts with different encounters
- Massive variety of services and encounter types
- Multiple simultaneous quest lines possible
- Underworld and shadow economy active
- Expert information brokers and spies
- Specialized adventure opportunities

---

## üèóÔ∏è SETTLEMENT INFRASTRUCTURE GUIDE

### Standard Building Types (All Settlements)

**By Settlement Type, Typical Distribution:**

| Building Type | Camp | Hamlet | Village | Town | City |
|---|---|---|---|---|---|
| Inn/Tavern | 0-1 | 1 | 1-2 | 3-5 | 8-12 |
| Shops | 0-1 | 1-2 | 2-3 | 8-15 | 20-30+ |
| Blacksmith | 0 | 0-1 | 1 | 2-3 | 4-6 |
| Temples/Shrine | 0 | 0-1 | 1 | 1-2 | 3-5 |
| Homes | 3-15 | 6-12 | 20-30 | 50-120 | 200-400+ |
| Workshops | 0-1 | 2-4 | 8-12 | 20-30 | 40-60+ |
| Guard/Military | 0 | 0 | 1 | 1-2 | 2-4 |
| Markets | 0 | 0-1 | 1 | 2-3 | 3-5 |
| Other | 0-1 | 1-2 | 2-4 | 5-10 | 10-20+ |

---

## üé≠ NPC DISTRIBUTION BY SETTLEMENT TYPE

### Essential NPC Types by Settlement Level

**CAMP (1-2 Notable NPCs):**
- Leader/Captain (always)
- Optional: Interesting character or specialist

**HAMLET (3-5 Notable NPCs):**
- **Always:** Mayor/Elder, Innkeeper, Blacksmith or Craftsperson
- **Usually:** Healer or Priest
- **Often:** Merchant or Tradesperson

**VILLAGE (5-10 Notable NPCs):**
- **Always:** Mayor, Innkeeper, Merchant, Blacksmith, Priest/Healer
- **Usually:** 1-2 Additional shop owners
- **Often:** Guard captain, 1-2 Craftspeople

**TOWN (10-20 Notable NPCs):**
- **Always:** Mayor, Multiple Innkeepers, Multiple Merchants, Blacksmith(s), Priest(s), Healer(s)
- **Usually:** 5-10 Additional shop owners and craftspeople
- **Often:** Guard captain, Scholar, Entertainer, Notable citizens

**CITY (20-40+ Notable NPCs):**
- **Always:** Mayor/Lord, Multiple merchants and innkeepers, Multiple craftspeople, Multiple priests/healers
- **Usually:** 15-30 Additional specialists and services
- **Often:** Underworld figures, Guild masters, Nobles, Scholars, Entertainment figures, Spies

---

## üë• NPC ENCOUNTER GENERATION RULES

### Principle: Lazy Population

The LLM **does not pre-generate the entire settlement**. Instead:

1. **Mention settlement basics** (name, approximate population, notable buildings)
2. **Generate NPCs only when needed** (player action triggers generation)
3. **Follow distribution rules** (appropriate NPC types for settlement size)
4. **Create on-demand** (new NPCs as encounters require them)

### Example: Town Entrance

**Good (Lazy Population):**
```
Millhaven (Population ~1,200) is a prosperous trading town on the Silverstream
River. Stone walls protect merchant houses and market buildings. Three main
streets radiate from the central market square. You see:
- A busy tavern (The Broken Wheel) with merchant signs
- A weapons and armor shop
- A general goods store
- Multiple homes and workshops
- Guard tower and barracks

Where would you like to go?
```

**Bad (Over-generation):**
```
Millhaven has exactly 1,247 residents. The population breakdown is:
- 340 farmers
- 120 merchants
- 95 craftspeople
- 200 laborers
- 45 soldiers
...etc...

Each NPC: Name, age, job, family, background, motivations...
[Generates 50+ NPCs no one cares about yet]
```

### When to Generate NPCs

- **Player enters location** (inn, shop, tavern, market)
- **Player asks "who's around?"**
- **Combat or conflict occurs**
- **Quest/social encounter needed**
- **Natural progression requires new character**

### When NOT to Generate NPCs

- **Unnecessary detail** (random passerby on street)
- **Over-describing large crowds** (describe atmosphere, not individuals)
- **Pre-planning entire city** (wait for player action)
- **Background population details** (mention existence, not census)

---

## üìç TYPICAL SETTLEMENT LAYOUTS

### Camp Layout (Simple)
```
Main area: 30-50 feet diameter
- Central fire pit
- 3-5 tents/shelters around perimeter
- Supply area
- Possibly: corral for animals, simple latrine
- One entry/exit point
```

### Hamlet Layout (Compact)
```
Main area: 100-200 feet
- Central common/green area
- Well or water source (center or edge)
- 6-12 buildings clustered
- Possible defensive wall or palisade
- 2-4 entry/exit roads
- Surrounding farms and pastures
```

### Village Layout (Organized)
```
Central area: 300-500 feet
- Market square (center)
- Main street through center
- Secondary streets branching off
- 25-40 buildings distributed
- Defensive perimeter
- 2-4 gates
- Surrounding farms, mills, water features
```

### Town Layout (Districts)
```
Walled area: 600-1,000+ feet
- Merchant district (market, shops, inns)
- Craft district (workshops, blacksmith)
- Residential district (homes)
- Noble district (wealthy homes, estates)
- Temple/civic district (shrine, town hall)
- Guard/military district (barracks, garrison)
- Possible: Poor district, entertainments
```

### City Layout (Complex)
```
Extensive walled area: 1,000+ feet
- Multiple districts (8+)
- Merchant/trade quarter
- Craft/industrial quarter
- Residential areas (multiple levels)
- Noble district
- Temple/civic quarter
- Entertainment/leisure quarter
- Guard/military installations
- Possibly: Harbor/dock district, academic quarter, underworld areas
```

---

## üéØ SETTLEMENT GENERATION WORKFLOW

### Step 1: Settlement Introduction
When player approaches settlement, LLM:
1. Determines settlement size (player context or specify)
2. Generates name (or uses existing)
3. Notes approximate population
4. Describes key visual features
5. Mentions 2-3 obvious locations

### Step 2: Atmosphere Description
- What's the mood? (busy, quiet, tense, prosperous?)
- What's visible? (activity, condition, notable features)
- What time of day? (affects NPC availability)
- Any immediate issues? (guards, trouble, celebration?)

### Step 3: On-Demand NPC Generation
When player enters specific location or requests encounter:
- Determine location type
- Select appropriate NPCs for that setting
- Use NPC_BEHAVIOR_GLOSSARY_COMPREHENSIVE.md [82] for archetype
- Generate specific NPCs only as needed
- Create interaction naturally

### Step 4: Dynamic Population
As campaign progresses:
- Track notable NPCs met
- Remember relationships established
- Reference past interactions
- Expand settlement details gradually
- Populate on-the-fly as needed

---

## üìã NPC GENERATION CHECKLIST

When LLM needs to generate NPCs for a settlement encounter:

- [ ] Settlement size (Camp/Hamlet/Village/Town/City)?
- [ ] Location within settlement (inn, shop, street)?
- [ ] Time of day (morning/afternoon/evening/night)?
- [ ] Expected NPC count for this location?
- [ ] NPC types for this location (using distribution rules)?
- [ ] Specific NPC archetype needed (from glossary)?
- [ ] Generate name and personality?
- [ ] Create motivations and secrets?
- [ ] Add dialogue/mannerisms?
- [ ] Link to settlement hooks/quests?

---

## üåç SETTLEMENT VARIATIONS

### Special Settlement Types

**Fortress/Military Post**
- Function: Defense and military operations
- Population: 50-500 soldiers + support staff
- Notable NPCs: Commander, officers, quartermaster
- Buildings: Barracks, training grounds, storage, garrison buildings
- Economy: Military-focused, limited civilian services
- Atmosphere: Disciplined, ordered, cautious

**Religious Site (Temple, Monastery, Shrine)**
- Function: Religious devotion and teaching
- Population: 10-200 religious persons + pilgrims
- Notable NPCs: High priest, monks, scholars
- Buildings: Temple, living quarters, library, gardens
- Economy: Donations and services
- Atmosphere: Peaceful, reverent, austere

**Mercenary Camp/Headquarters**
- Function: Military operations for hire
- Population: 20-200 mercenaries + officers
- Notable NPCs: Captain, lieutenants, quartermaster
- Buildings: Barracks, training, equipment storage
- Economy: Job-based, plunder-focused
- Atmosphere: Rough, organized by rank, dangerous

**Trading Post/Caravan Rest**
- Function: Waypoint for merchants
- Population: 10-100 merchants and travelers
- Notable NPCs: Master merchant, caravan leaders
- Buildings: Warehouses, lodging, stables, markets
- Economy: Pure commerce
- Atmosphere: Transient, commerce-focused, cosmopolitan

**Underground Settlement (Dwarven, Goblin, etc.)**
- Function: Varies by culture
- Population: Varies widely
- Notable NPCs: Clan leader, craftspeople
- Buildings: Carved from stone, unique architecture
- Economy: Crafting-focused
- Atmosphere: Unique to culture

---

## üí° SETTLEMENT USAGE EXAMPLES

### Example 1: Approaching a Village

```
LLM generates:
"Thornhaven sits at the junction of two roads, a modest village of maybe 200 
souls. The wooden palisade fence is well-maintained. Stone buildings cluster 
around a central market square. Smoke rises from what appears to be a blacksmith.

Notable locations you can see:
- The Broken Wheel Inn (main building with chimney)
- A general goods store with a merchant sign
- A small shrine or temple
- The blacksmith's workshop

A few villagers move about, but it's mid-afternoon and many are likely working 
the surrounding farms or workshops. The gates are open and you're welcomed without 
challenge.

What would you like to do?"

Player: "We go to the inn."

LLM continues (generating only what's needed):
"You enter the Broken Wheel. The innkeeper, a stout woman named Meredith, looks 
up from cleaning a table. Two merchants sit in a corner discussing trading routes. 
An older man nurses a drink near the fire.

Meredith greets you warmly: 'Travelers? We have rooms available. Food's hot, ale's 
cold...'

What do you do?"
```

### Example 2: Entering a City

```
LLM generates:
"Silverspire is a city of perhaps 8,000 souls, built on both sides of the Silver 
River. Stone walls protect the inner city. Multiple districts are visible...

The merchant quarter is bustling with activity - vendors hawk their wares, 
carts move between warehouses, and the smell of commerce fills the air. To the 
north, you see what appears to be a noble district with larger buildings. East 
lies the crafting quarter - the sound of hammers and tools echoes from multiple 
workshops. A temple spire rises above all else in the civic center.

The city is busy with daytime activity. Hundreds of people move about their 
business. Guards patrol the main streets in pairs.

What district would you like to explore?"

Player: "The temple."

LLM continues (generating only temple area):
"You approach the grand temple. A priest in ceremonial robes is speaking with 
an acolyte at the entrance. Inside, the cool stone interior echoes with quiet 
reverence. Perhaps a dozen worshippers are present - some in prayer, some making 
offerings.

The high priest, Father Aldwyn, notices you. He's a dignified man in his sixties 
with penetrating gray eyes. 'Welcome, travelers. Are you seeking spiritual 
guidance, or perhaps something else?'

What do you say?"
```

---

## ‚úÖ BEST PRACTICES

**DO:**
- ‚úÖ Use settlement size to scale NPC count
- ‚úÖ Generate NPCs when player action requires them
- ‚úÖ Maintain consistency with established NPCs
- ‚úÖ Reference settlement details throughout campaign
- ‚úÖ Scale encounters to settlement significance
- ‚úÖ Use appropriate NPC archetypes
- ‚úÖ Remember settlement dynamics over time

**DON'T:**
- ‚ùå Pre-generate entire settlement population
- ‚ùå Create unnecessary NPCs for background
- ‚ùå Violate population standards wildly
- ‚ùå Forget settlement size when generating encounters
- ‚ùå Over-describe background crowds
- ‚ùå Contradict established settlement details
- ‚ùå Generate more NPCs than settlement size supports

---

## üé≠ INTEGRATION WITH NPC SYSTEM

Settlement generation works with the existing NPC systems:

**Party Companion System** [80]:
- NPCs in settlements react to party companions appropriately
- Companion expertise recognized by world NPCs
- Relationships develop with settlement NPCs over time

**World NPC System** [82-83]:
- Settlement NPCs use world NPC archetypes
- Behavior and speech patterns follow glossary guidelines
- Motivations and fears established for each NPC

**Result:** Settlements feel alive, consistent, and immersive without requiring pre-generation.

---

## üìû QUICK REFERENCE

| Settlement | Population | Notable NPCs | Key Buildings | Encounter Style |
|---|---|---|---|---|
| **Camp** | 3-15 | 1-2 | 1-3 simple | Everyone present |
| **Hamlet** | 20-75 | 3-5 | 6-12 basic | Most visible, some isolated |
| **Village** | 100-500 | 5-10 | 25-40 organized | Mix of public & private |
| **Town** | 500-5,000 | 10-20 | 60-150+ diverse | Districts with specialization |
| **City** | 5,000+ | 20-40+ | 300+ complex | Multiple simultaneous |

---

**Version:** 1.0 SETTLEMENT ARCHITECTURE  
**Status:** ‚úÖ PRODUCTION-READY  
**Quality:** Professional Grade

**Create immersive, scalable settlements that feel alive and authentic!** üèòÔ∏è

